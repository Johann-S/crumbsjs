const crumbs={debug:!1,setDebug:function(r){try{this.debug=r}catch(r){this.throwError(r)}},isLsAvailable:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(r){return!1}},throwError:function(r,t="error"){console[t](`[crumbsJS] An error has occurred: ${r}`)},set:function(r,t,e,o){try{if(Array.isArray(r)){var a=r;return a.forEach(r=>{if(!r.hasOwnProperty("name")||!r.hasOwnProperty("value"))throw"Mass cookie set failed, on or more object properties are incorrect."}),a.map(r=>!!this.set(r.name,r.value,r.expires,r.domain)&&r).filter(r=>r)}var s="";if(null!=e){var i=new Date,n=864e5;if("object"==typeof e){switch(e.type.toLowerCase()){case"minute":n=6e4;break;case"hour":n=36e5;break;case"day":n=864e5;break;case"week":n=6048e5;break;case"month":n=24192e5;break;default:throw"Not a valid time type format (use minute, hour, day, week or month only)"}e=e.value}i.setTime(i.getTime()+e*n),i.toUTCString(),s=`expires=${i}`}let c=""+`${r}=${t};${s}×£${null!=o?`path=${o};`:o}`;return document.cookie=c,!0}catch(r){return this.throwError(r),!1}},get:function(r){try{var t=decodeURIComponent(document.cookie),e=(t=t.split("; ")).filter(t=>(t=t.split("="))[0]===r?1:0);return e.length>0?e[0].split("=")[1]:null}catch(r){return this.throwError(r),!1}},getAll:function(){try{var r=decodeURIComponent(document.cookie);return!!(r=r.split("; "))[0]&&r.map(r=>({name:(r=r.split("="))[0],value:r[1]}))}catch(r){return this.throwError(r),!1}},delete:function(r){try{return Array.isArray(r)?(r.forEach(r=>{this.delete(r)}),!0):(document.cookie=`${r}=''; expires=Thu, 01 Jan 1970 00:00:01 GMT`,!0)}catch(r){this.throwError(r)}},deleteAll:function(){try{var r=decodeURIComponent(document.cookie);return r=r.split("; ").map(r=>(r=r.split("="),this.delete(r[0]))),!0}catch(r){this.throwError(r)}},ls:{throwError:(r,t="error")=>{crumbs.throwError(r,t)},ls:window.localStorage,set:function(r,t){if(!crumbs.isLsAvailable())return this.throwError("Local Storage is not available, action was completed using cookies","warn"),crumbs.set(r,t);try{return Array.isArray(r)?(r.forEach(r=>{if(!r.hasOwnProperty("key")||!r.hasOwnProperty("value"))throw"Mass key-value pair set failed, on or more object properties are incorrect."}),r.map(r=>{this.set(r.key,r.value)}).filter(r=>r)):(this.ls.setItem(r,JSON.stringify(t)),!0)}catch(r){return this.throwError(r),!1}},get:function(r,t=!0){if(!crumbs.isLsAvailable())return this.throwError("Local Storage is not available, action was completed using cookies","warn"),crumbs.get(r);try{return Array.isArray(r)?r.map(r=>({key:r,value:this.get(r)})).filter(r=>r):t?JSON.parse(this.ls.getItem(r)):this.ls.getItem(r)}catch(r){return this.throwError(r),!1}},getAll:function(r=!0){if(!crumbs.isLsAvailable())return this.throwError("Local Storage is not available, action was completed using cookies"),crumbs.getAll();try{let t=[];for(let e in this.ls)"key"!=e&&"getItem"!=e&&"setItem"!=e&&"removeItem"!=e&&"clear"!=e&&"length"!=e&&t.push({key:e,value:r?JSON.parse(this.ls[e]):this.ls[e]});return t}catch(r){return this.throwError(r),!1}},delete:function(r){if(!crumbs.isLsAvailable())return this.throwError("Local Storage is not available, action was aborted"),!1;try{return this.ls.removeItem(r),!0}catch(r){return this.throwError(r),!1}},deleteAll:function(){if(!crumbs.isLsAvailable())return this.throwError("Local Storage is not available, action was aborted"),!1;try{return this.ls.clear(),!0}catch(r){return this.throwError(r),!1}}}};